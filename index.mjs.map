{"version":3,"file":"index.mjs","sources":["../lib/internal_compreal.js","../lib/robust_internal.js","../lib/cdiv.js","../lib/main.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Computes the real part of the quotient.\n*\n* ## Notes\n*\n* -   See figure 10 of [Baudin (2012)][@baudin:2012].\n*\n* [@baudin:2012]: https://arxiv.org/abs/1210.4539\n*\n* @private\n* @param {number} re1 - real component\n* @param {number} im1 - imaginary component\n* @param {number} re2 - real component\n* @param {number} im2 - imaginary component\n* @param {number} r - partial result\n* @param {number} t - partial result\n* @returns {number} real part of the quotient\n*/\nfunction internalCompreal( re1, im1, re2, im2, r, t ) {\n\tvar br;\n\tif ( r === 0.0 ) {\n\t\treturn ( re1 + (im2 * (im1/re2)) ) * t;\n\t}\n\tbr = im1 * r;\n\tif ( br === 0.0 ) {\n\t\treturn ( re1*t ) + ( (im1*t) * r );\n\t}\n\treturn ( re1+br ) * t;\n}\n\n\n// EXPORTS //\n\nmodule.exports = internalCompreal;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar internalCompreal = require( './internal_compreal.js' );\n\n\n// MAIN //\n\n/**\n* Computes the complex division.\n*\n* ## Notes\n*\n* -   See figure 10 of [reference][@baudin:2012].\n*\n* [@baudin:2012]: https://arxiv.org/abs/1210.4539\n*\n* @private\n* @param {(Array|TypedArray|Object)} out - output array\n* @param {number} re1 - real component\n* @param {number} im1 - imaginary component\n* @param {number} re2 - real component\n* @param {number} im2 - imaginary component\n*/\nfunction robustInternal( out, re1, im1, re2, im2 ) {\n\tvar r;\n\tvar t;\n\n\tr = im2 / re2;\n\tt = 1.0 / ( re2 + (im2*r) );\n\n\tout[ 0 ] = internalCompreal( re1, im1, re2, im2, r, t );\n\tout[ 1 ] = internalCompreal( im1, -re1, re2, im2, r, t );\n}\n\n\n// EXPORTS //\n\nmodule.exports = robustInternal;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar abs = require( '@stdlib/math-base-special-abs' );\nvar max = require( '@stdlib/math-base-special-max' );\nvar FLOAT64_BIGGEST = require( '@stdlib/constants-float64-max' );\nvar FLOAT64_SMALLEST = require( '@stdlib/constants-float64-smallest-normal' );\nvar EPS = require( '@stdlib/constants-float64-eps' );\nvar robustInternal = require( './robust_internal.js' );\n\n\n// VARIABLES //\n\nvar LARGE_THRESHOLD = FLOAT64_BIGGEST * 0.5;\nvar SMALL_THRESHOLD = FLOAT64_SMALLEST * ( 2.0 / EPS );\nvar RECIP_EPS_SQR = 2.0 / ( EPS * EPS );\n\n\n// MAIN //\n\n/**\n* Divides two complex numbers.\n*\n* @private\n* @param {(Array|TypedArray|Object)} out - output array\n* @param {number} re1 - real component\n* @param {number} im1 - imaginary component\n* @param {number} re2 - real component\n* @param {number} im2 - imaginary component\n* @returns {(Array|TypedArray|Object)} output array\n*\n* @example\n* var out = new Array( 2 );\n*\n* var v = cdiv( out, -13.0, -1.0, -2.0, 1.0 );\n* // returns [ 5.0, 3.0 ]\n*\n* var bool = ( v === out );\n* // returns true\n*/\nfunction cdiv( out, re1, im1, re2, im2 ) {\n\tvar ab;\n\tvar cd;\n\tvar s;\n\n\tab = max( abs(re1), abs(im1) );\n\tcd = max( abs(re2), abs(im2) );\n\ts = 1.0;\n\n\tif ( ab >= LARGE_THRESHOLD ) {\n\t\tre1 *= 0.5;\n\t\tim1 *= 0.5;\n\t\ts *= 2.0;\n\t} else if ( ab <= SMALL_THRESHOLD ) {\n\t\tre1 *= RECIP_EPS_SQR;\n\t\tim1 *= RECIP_EPS_SQR;\n\t\ts /= RECIP_EPS_SQR;\n\t}\n\tif ( cd >= LARGE_THRESHOLD ) {\n\t\tre2 *= 0.5;\n\t\tim2 *= 0.5;\n\t\ts *= 0.5;\n\t} else if ( cd <= SMALL_THRESHOLD ) {\n\t\tre2 *= RECIP_EPS_SQR;\n\t\tim2 *= RECIP_EPS_SQR;\n\t\ts *= RECIP_EPS_SQR;\n\t}\n\tif ( abs( im2 ) <= abs( re2 ) ) {\n\t\trobustInternal( out, re1, im1, re2, im2 );\n\t} else {\n\t\trobustInternal( out, im1, re1, im2, re2 );\n\t\tout[ 1 ] *= -1;\n\t}\n\tout[ 0 ] *= s;\n\tout[ 1 ] *= s;\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = cdiv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar divide = require( './cdiv.js' );\n\n\n// MAIN //\n\n/**\n* Divides two complex numbers.\n*\n* ## References\n*\n* -   Baudin, Michael, and Robert L. Smith. 2012. \"A Robust Complex Division in Scilab.\" _arXiv_ abs/1210.4539 \\[cs.MS\\] (October): 1â€“25. <https://arxiv.org/abs/1210.4539>.\n*\n*\n* @param {(Array|TypedArray|Object)} [out] - output array\n* @param {number} re1 - real component\n* @param {number} im1 - imaginary component\n* @param {number} re2 - real component\n* @param {number} im2 - imaginary component\n* @returns {(Array|TypedArray|Object)} output array\n*\n* @example\n* var v = cdiv( -13.0, -1.0, -2.0, 1.0 );\n* // returns [ 5.0, 3.0 ]\n*\n* @example\n* var out = new Array( 2 );\n*\n* var v = cdiv( out, -13.0, -1.0, -2.0, 1.0 );\n* // returns [ 5.0, 3.0 ]\n*\n* var bool = ( v === out );\n* // returns true\n*/\nfunction cdiv( out, re1, im1, re2, im2 ) {\n\tif ( arguments.length === 4 ) {\n\t\treturn divide( [ 0.0, 0.0 ], out, re1, im1, re2 );\n\t}\n\treturn divide( out, re1, im1, re2, im2 );\n}\n\n\n// EXPORTS //\n\nmodule.exports = cdiv;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Divide two complex numbers.\n*\n* @module @stdlib/math-base-ops-cdiv\n*\n* @example\n* var cdiv = require( '@stdlib/math-base-ops-cdiv' );\n*\n* var v = cdiv( -13.0, -1.0, -2.0, 1.0 );\n* // returns [ 5.0, 3.0 ]\n*\n* @example\n* var cdiv = require( '@stdlib/math-base-ops-cdiv' );\n*\n* var out = new Array( 2 );\n*\n* var v = cdiv( out, -13.0, -1.0, -2.0, 1.0 );\n* // returns [ 5.0, 3.0 ]\n*\n* var bool = ( v === out );\n* // returns true\n*/\n\n// MODULES //\n\nvar cdiv = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = cdiv;\n"],"names":["internalCompreal","re1","im1","re2","im2","r","t","br","abs","require$$0","max","require$$1","robustInternal","out","LARGE_THRESHOLD","require$$2","SMALL_THRESHOLD","require$$3","require$$4","RECIP_EPS_SQR","divide","ab","cd","s","lib","arguments","length"],"mappings":";;ycAuDA,ICjCIA,EDkBJ,SAA2BC,EAAKC,EAAKC,EAAKC,EAAKC,EAAGC,GACjD,IAAIC,EACJ,OAAW,IAANF,GACKJ,EAAOG,GAAOF,EAAIC,IAAUG,EAG1B,KADZC,EAAKL,EAAMG,GAEDJ,EAAIK,EAASJ,EAAII,EAAKD,GAEvBJ,EAAIM,GAAOD,GCQrB,ICnCIE,EAAMC,EACNC,EAAMC,EAINC,EDgBJ,SAAyBC,EAAKZ,EAAKC,EAAKC,EAAKC,GAC5C,IAAIC,EACAC,EAGJA,EAAI,GAAQH,EAAOC,GADnBC,EAAID,EAAMD,IAGVU,EAAK,GAAMb,EAAkBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAGC,GACpDO,EAAK,GAAMb,EAAkBE,GAAMD,EAAKE,EAAKC,EAAKC,EAAGC,ICnBlDQ,EAAoC,GARlBC,EASlBC,EARmBC,GAQoB,EAPjCC,GAQNC,EAAgB,GARVD,EAAAA,GA0EV,IC9EIE,EDqCJ,SAAeP,EAAKZ,EAAKC,EAAKC,EAAKC,GAClC,IAAIiB,EACAC,EACAC,EAgCJ,OA9BAF,EAAKX,EAAKF,EAAIP,GAAMO,EAAIN,IACxBoB,EAAKZ,EAAKF,EAAIL,GAAMK,EAAIJ,IACxBmB,EAAI,EAECF,GAAMP,GACVb,GAAO,GACPC,GAAO,GACPqB,GAAK,GACMF,GAAML,IACjBf,GAAOkB,EACPjB,GAAOiB,EACPI,GAAKJ,GAEDG,GAAMR,GACVX,GAAO,GACPC,GAAO,GACPmB,GAAK,IACMD,GAAMN,IACjBb,GAAOgB,EACPf,GAAOe,EACPI,GAAKJ,GAEDX,EAAKJ,IAASI,EAAKL,GACvBS,EAAgBC,EAAKZ,EAAKC,EAAKC,EAAKC,IAEpCQ,EAAgBC,EAAKX,EAAKD,EAAKG,EAAKD,GACpCU,EAAK,KAAQ,GAEdA,EAAK,IAAOU,EACZV,EAAK,IAAOU,EACLV,GC7BR,ICfAW,EDKA,SAAeX,EAAKZ,EAAKC,EAAKC,EAAKC,GAClC,OAA0B,IAArBqB,UAAUC,OACPN,EAAQ,CAAE,EAAK,GAAOP,EAAKZ,EAAKC,EAAKC,GAEtCiB,EAAQP,EAAKZ,EAAKC,EAAKC,EAAKC"}